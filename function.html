<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/button-back-to.css">
</head>
<body>
<header>
    <a class="button-back-to" href="index.html">
        <svg class="button-back-to__img" fill="#000000" height="14px" width="14px" id="back-arrow"
             viewBox="0 0 219.151 219.151">
            <g>
                <path d="M94.861,156.507c2.929,2.928,7.678,2.927,10.606,0c2.93-2.93,2.93-7.678-0.001-10.608l-28.82-28.819l83.457-0.008
		        c4.142-0.001,7.499-3.358,7.499-7.502c-0.001-4.142-3.358-7.498-7.5-7.498l-83.46,0.008l28.827-28.825
		        c2.929-2.929,2.929-7.679,0-10.607c-1.465-1.464-3.384-2.197-5.304-2.197c-1.919,0-3.838,0.733-5.303,2.196l-41.629,41.628
		        c-1.407,1.406-2.197,3.313-2.197,5.303c0.001,1.99,0.791,3.896,2.198,5.305L94.861,156.507z"/>
            </g>
        </svg>
        к оглавлению</a>
    <h1 class="lesson-topic">функции</h1>
</header>
<main>
    <h3 class="example__title"></h3>
    <div class="example">
        <section class="example__description">
            <p class="example__paragraph">
                HTML Academy
                Предыдущее задание
                Функции
                6/13
                Вернуться в список заданий

                1. Деловая поездка
                2. Пиши, упрощай
                3. Отбрось всё лишнее
                4. Сделай мне красиво
                5. Просто добавь процент
                6. Позови меня тихо по имени
                7. Вижу цель
                8. Сколько вешать в полётах?
                9. Немного приберёмся
                10. Кто быстрей?
                11. Копим на кругосветку
                12. Конспект «Функции». Раздел 2
                13. Восьмая программа: «Сколько стоит ваш фронтенд?»

                Следующее задание

                Кирилл ГрантКирилл Грант

                Позови меня тихо по имени

                Мяу!

                Знаешь, я хоть и деловой кот, но и мне не чужды простые человеческие мечты. Я очень хочу повидать мир,
                посетить много далёких городов, например, Токио. Там всё, что я люблю: рыба, природа и технологии.
                Давай-ка выясним, как мне побыстрей обстряпать это дельце?

                Впереди у меня много командировок в два города: в испанскую Валенсию и португальский Лиссабон.

                Полётами в какой из городов я быстрее накоплю мили в Токио? Мне нужно 15000 миль. В Валенсию полечу
                бизнесом, а вот в Лиссабон придётся тащиться экономом.

                Жду от тебя ответа! До связи!

                Мечты должны сбываться, особенно, если это мечты босса!

                Перед нами новая задача и новая программа. Если задуматься, функция подсчёта миль, которую мы написали
                раньше, нам здесь очень пригодится. Сначала с её помощью мы узнаем, сколько миль можно получить с одного
                перелёта, а затем выясним, сколько таких полётов нужно совершить, чтобы накопить 15000 миль до Токио.
                Кекс хочет слетать и в другие города, но сначала мы решим задачу на одном примере, а потом легко
                масштабируем решение и для других расстояний.

                Мы создадим ещё одну функцию, которая будет считать количество полётов, а затем из неё вызовем нашу
                первую функцию с подсчётом миль и воспользуемся полученным значением.

                Звучит сложней, чем выглядит на самом деле. Хороший код всегда состоит из множества частей, каждая из
                которых занимается только своей задачей. Как у нас: одна функция считает мили, а другая будет считать
                полёты. В таком случае очень удобно использовать одну функцию для решения задач другой. Например, чтобы
                посчитать количество полётов, нам понадобится сначала узнать количество миль, которое Кекс получит за
                один полёт по направлению. А как это сделать? Вызвать функцию calculateMiles, записать результат в
                переменную и использовать в дальнейших вычислениях в функции подсчёта полётов.

                Давайте закрепим на практике!

                Создадим функцию calculateFlights. Пока рассчитаем полёты для первого варианта, полёта в Валенсию,
                расстояние туда составляет 3118 км. Напишем функцию за несколько шагов, сначала просто протестируем
                вызов одной функции из другой.

            </p>
        </section>
        <section class="example__solution">
            <code class="example__code">
                let calculateMiles = function (distance, isBusinessClass) {
                let percent = 0.18;
                if (isBusinessClass) {
                percent += 0.04;
                }
                if (distance > 3500) {
                percent += 0.15;
                }
                return distance * percent;
                };

                let calculateFlights = function (distance, isBusinessClass) {
                let miles = calculateMiles(distance, isBusinessClass);
                console.log('Мили за перелёт: ' + miles);
                };

                calculateFlights(3118, true);

            </code>
        </section>
    </div>
    <section class="terminal">
        <h4 class="terminal__window">terminal</h4>
        <p class="terminal__result">
            Мили за перелёт: 685.96 (String)
            undefined (undefined)
        </p>
    </section>


    <h3 class="example__title"></h3>
    <div class="example">
        <section class="example__description">
            <p class="example__paragraph">
                Теперь, когда мы знаем количество миль за один полёт, ничего не мешает нам узнать, сколько раз придётся
                слетать по одному маршруту, чтобы заполучить поездку в Токио.

                Добавим для функции calculateFlights ещё один параметр, который мы пока не использовали. Он будет
                содержать количество необходимых миль. Сейчас это мили до Токио, но вдруг Кекс захочет накопить на полёт
                ещё куда-нибудь? Достаточно будет поменять значение аргумента и вызвать функцию.

                Раз мы делаем универсальную программу, то имя нового параметра тоже должно быть универсальным. Поэтому
                название вроде milesToTokyo нам не подойдёт, оно слишком конкретное и не переиспользуемое. Выберем
                milesTarget. Такое имя подходит лучше, потому что с таким параметром мы сможем посчитать количество
                полётов хоть до Сиэтла.

                Чтобы получить количество полётов, нам нужно разделить milesTarget на мили, накопленные с одного полёта.
                Обратите внимание, что результат может оказаться не целым числом. Так как речь идёт о полётах, не
                учитывать дробную часть при округлении неправильно. Например, если необходимо 25.2 полётов для
                накопления 15000 миль, это значит, что в итоге перелётов должно быть 26. Иначе мы не доберём совсем
                немного миль. Поэтому в нашей задаче мы округлим результат вычислений с помощью Math.ceil.
            </p>
        </section>
        <section class="example__solution">
            <code class="example__code">
                let calculateMiles = function (distance, isBusinessClass) {
                let percent = 0.18;
                if (isBusinessClass) {
                percent += 0.04;
                }
                if (distance > 3500) {
                percent += 0.15;
                }
                return distance * percent;
                };

                let calculateFlights = function (distance, isBusinessClass, milesTarget) {
                let miles = calculateMiles(distance, isBusinessClass);
                console.log('Мили за перелёт: ' + miles);
                let flights = Math.ceil(milesTarget / miles);
                console.log('Количество полётов: ' + flights);
                };

                calculateFlights(3118, true, 15000);

            </code>
        </section>
    </div>
    <section class="terminal">
        <h4 class="terminal__window">terminal</h4>
        <p class="terminal__result">
            Мили за перелёт: 685.96 (String)
            Количество полётов: 22 (String)
            undefined (undefined)
        </p>
    </section>


    <h3 class="example__title"></h3>
    <div class="example">
        <section class="example__description">
            <p class="example__paragraph">
                Теперь у нас есть функция, которая считает, за сколько полётов по одному и тому же маршруту можно
                накопить необходимое количество миль.

                Чтобы узнать, как Кексу скорее оказаться в Токио, надо сравнить количество полётов по каждому из
                направлений. Для этого нам нужно вызвать функцию calculateFlights дважды, для полётов в Валенсию и
                Лиссабон, с одинаковым значением третьего аргумента (15000 миль до Токио).

                Теперь, чтобы понять, что выгодней, давайте выясним, сколько раз Кексу нужно смотаться по работе в
                Лиссабон, чтобы наконец оказаться на отдыхе в желанном Токио? Расстояние до столицы Португалии 3617 км.
            </p>
        </section>
        <section class="example__solution">
            <code class="example__code">
                let calculateMiles = function (distance, isBusinessClass) {
                let percent = 0.18;
                if (isBusinessClass) {
                percent += 0.04;
                }
                if (distance > 3500) {
                percent += 0.15;
                }
                return distance * percent;
                };

                let calculateFlights = function (distance, isBusinessClass, milesTarget) {
                let miles = calculateMiles(distance, isBusinessClass);
                let flights = Math.ceil(milesTarget / miles);
                return flights;
                };

                let flightsVariantFirst = calculateFlights(3118, true, 15000);
                let flightsVariantSecond = calculateFlights(3617, false, 15000);

                console.log('Необходимое количество полётов в бизнес-классе до Валенсии: ' + flightsVariantFirst);
                console.log('Необходимое количество полётов в экономе до Лиссабона: ' + flightsVariantSecond);
            </code>
        </section>
    </div>
    <section class="terminal">
        <h4 class="terminal__window">terminal</h4>
        <p class="terminal__result">
            еобходимое количество полётов в бизнес-классе до Валенсии: 22 (String)
            Необходимое количество полётов в экономе до Лиссабона: 13 (String)
            undefined (undefined)
        </p>
    </section>


    <h3 class="example__title">Копим на кругосветку</h3>
    <div class="example">
        <section class="example__description">
            <p class="example__paragraph">
                Мы узнали, что мили до Токио проще накопить полётами до Лиссабона в экономе. А что с остальными
                городами? Кекс предупреждал, что Токио — только часть его плана. Кроме Токио Кекс хочет бесплатно
                слетать в Саскатун (3000 миль) и Асунсьон (7500 миль).
                <br>
                Конечно, мы не будем вызывать функцию calculateFlights самостоятельно для каждого расстояния. Мы запишем
                все мили в массив (не забудем добавить туда Токио) и будем его перебирать, вызывая на каждой итерации
                функцию calculateFlights для полётов в Валенсию и Лиссабон. В функцию будем передавать текущий элемент
                массива — необходимое количество миль для полёта в какой-то город из списка Кекса.
                <br>
                Чем удобно использование массива и цикла? Мы можем масштабировать решение на любое количество городов.
                Будь их хоть 2, хоть 10 или даже 100. Цикл будет перебирать массив, вызывать функцию для подсчёта
                полётов, а затем сравнивать результаты. И так для каждого элемента массива.
                <br>
                Давайте добавим массив с циклом и, наконец, скажем Кексу, как ему копить на путешествия его мечты.
                Скорее, Кекс уже заждался!
            </p>
        </section>
        <section class="example__solution">
            <code class="example__code">
                let calculateMiles = function (distance, isBusinessClass) {
               <br>let percent = 0.18;
                <br>if (isBusinessClass) {
                <br>percent += 0.04;
                <br>}
                <br>if (distance > 3500) {
                <br>percent += 0.15;
                <br>}
                <br>return distance * percent;
                <br>};
                <br>
                <br>let calculateFlights = function (distance, isBusinessClass, milesTarget) {
                <br>let miles = calculateMiles(distance, isBusinessClass);
                <br>let flights = Math.ceil(milesTarget / miles);
                <br>return flights;
                <br>};
                <br>
                <br>// Добавляйте массив и цикл сюда
                <br>let targets = [3000, 7500, 15000];
                <br>for (let i = 0; i < targets.length; i++) {
                <br>let flightsVariantFirst = calculateFlights(3118, true, targets[i]);
                <br>let flightsVariantSecond = calculateFlights(3617, false, targets[i]);
                <br>
                <br>console.log('Необходимое количество полётов в бизнес-классе до Валенсии: ' + flightsVariantFirst);
                <br>console.log('Необходимое количество полётов в экономе до Лиссабона: ' + flightsVariantSecond);
                <br>
                <br>if (flightsVariantFirst > flightsVariantSecond) {
                <br>console.log('Быстрей накопишь полётами в экономе до Лиссабона! Количество полётов: ' +
                <br>flightsVariantSecond);
                <br>} else {
                <br>console.log('Быстрей накопишь полётами в бизнесе до Валенсии! Количество полётов: ' +
                <br>flightsVariantFirst);
                <br>}
                <br>}
            </code>
        </section>
    </div>
    <section class="terminal">
        <h4 class="terminal__window">terminal</h4>
        <p class="terminal__result">
            Необходимое количество полётов в бизнес-классе до Валенсии: 5 (String)
            Необходимое количество полётов в экономе до Лиссабона: 3 (String)
            Быстрей накопишь полётами в экономе до Лиссабона! Количество полётов: 3 (String)
            Необходимое количество полётов в бизнес-классе до Валенсии: 11 (String)
            Необходимое количество полётов в экономе до Лиссабона: 7 (String)
            Быстрей накопишь полётами в экономе до Лиссабона! Количество полётов: 7 (String)
            Необходимое количество полётов в бизнес-классе до Валенсии: 22 (String)
            Необходимое количество полётов в экономе до Лиссабона: 13 (String)
            Быстрей накопишь полётами в экономе до Лиссабона! Количество полётов: 13 (String)
            undefined (undefined)
        </p>
    </section>


    <h3 class="example__title">Восьмая программа: «Сколько стоит ваш фронтенд?»</h3>
    <div class="example">
        <section class="example__description">
            <p class="example__paragraph">
                Пока мы считали мили, в веб-студию Кекса поступили новые заказы. Их так много, что студия не может
                справиться с таким объемом работ. Придётся выбирать наиболее выгодные предложения. Чтобы не считать
                стоимости проектов вручную, Босс просит вас написать программу.

                Мяу! Напиши программу для расчёта стоимости проекта.

                Назови функцию getPrice. У неё должно быть два параметра:

                время (в часах), которое нужно потратить на проект;
                булево значение, которое указывает на срочность проекта — true для срочного заказа и false для обычного.

                Названия параметров могут быть любыми.

                Для каждого проекта есть фиксированная ставка — 1500 рублей в час. Расчёт стоимости проектов выглядит
                так: время * ставка в час.

                Есть несколько нюансов. Если проект срочный, то часы уменьшаются в два раза, а ставка за час повышается
                в 2.5 раз.

                А если время проекта больше 150 часов, ставка в час уменьшается на 250 рублей.

                В первую очередь проверяй срочность. Функция должна возвращать стоимость проекта.

                Почему нужно сначала проверять срочность? Чтобы программа работала корректно.

                Представьте, что пришёл срочный проект на 160 часов. Сначала мы проверяем срочность, увеличиваем ставку
                и уменьшаем количество часов вдвоё. Часов станет 80. Тогда проверка на количество часов уже не пройдёт и
                не внесёт свои коррективы в ответ. Так как время часов изменилось, эта проверка и не должна проходить.

                Если пришёл срочный проект на 400 часов, то сначала мы сокращаем время в два раза, увеличиваем ставку.
                Время проекта теперь 200 часов, что всё равно больше 150, поэтому мы снижаем ставку на 250 рублей, раз
                проект всё равно большой.
            </p>
        </section>
        <section class="example__solution">
            <code class="example__code">

                let getPrice =  function ( projectTime, rush ){
                let fixPrice = 1500
                if (rush) {
                fixPrice = fixPrice * 2.5;
                projectTime = projectTime/2;
                }
                if (projectTime > 150) {
                fixPrice = fixPrice - 250;
                }
                return projectTime * fixPrice;
                }

            </code>
        </section>
    </div>
    <section class="terminal">
        <h4 class="terminal__window">terminal</h4>
        <p class="terminal__result">
            Первый тест. Время в часах: 200, срочный ли проект: true. Ожидаемая стоимость: 375000
            Результат выполнения функции getPrice равен 375000 и совпадает с ожидаемым значением
            Второй тест. Время в часах: 150, срочный ли проект: false. Ожидаемая стоимость: 225000
            Результат выполнения функции getPrice равен 225000 и совпадает с ожидаемым значением
            Третий тест. Время в часах: 100, срочный ли проект: true. Ожидаемая стоимость: 187500
            Результат выполнения функции getPrice равен 187500 и совпадает с ожидаемым значением
            Четвёртый тест. Время в часах: 150, срочный ли проект: true. Ожидаемая стоимость: 281250
            Результат выполнения функции getPrice равен 281250 и совпадает с ожидаемым значением
            Пятый тест. Время в часах: 320, срочный ли проект: true. Ожидаемая стоимость: 560000
            Результат выполнения функции getPrice равен 560000 и совпадает с ожидаемым значением
            Шестой тест. Время в часах: 320, срочный ли проект: false. Ожидаемая стоимость: 400000
            Результат выполнения функции getPrice равен 400000 и совпадает с ожидаемым значением
            Задача выполнена
        </p>
    </section>

    <h3 class="example__title"></h3>
    <div class="example">
        <section class="example__description">
            <p class="example__paragraph">
            </p>
        </section>
        <section class="example__solution">
            <code class="example__code">

            </code>
        </section>
    </div>
    <section class="terminal">
        <h4 class="terminal__window">terminal</h4>
        <p class="terminal__result">
        </p>
    </section>
</main>

</body>
</html>